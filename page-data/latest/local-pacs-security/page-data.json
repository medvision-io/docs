{
    "componentChunkName": "component---src-templates-page-template-tsx",
    "path": "/latest/local-pacs-security",
    "result": {"data":{"markdownRemark":{"html":"<p>This guide goes through security options that are available for our local PACS server. It is advised to create different roles for different types of users and restrict some actions (like <code class=\"language-text\">DELETE</code>) to administrator.</p>\n<h2 id=\"requirements\" style=\"position:relative;\">Requirements<a href=\"#requirements\" aria-label=\"requirements permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li>Setup of <a href=\"/latest/setting-up-local-pacs\">Our Local PACS</a></li>\n</ul>\n<h2 id=\"enable-basic-authentication\" style=\"position:relative;\">Enable Basic Authentication<a href=\"#enable-basic-authentication\" aria-label=\"enable basic authentication permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token string\">\"RemoteAccessAllowed\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"RemoteAccessEnabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span>\n  <span class=\"token string\">\"AuthenticationEnabled\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h2 id=\"user-accounts\" style=\"position:relative;\">User Accounts<a href=\"#user-accounts\" aria-label=\"user accounts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Basic user accounts are defines within <code class=\"language-text\">/orthanc.json</code> file inside our Local PACS server project. You can define your users by adding them to <code class=\"language-text\">RegisteredUsers</code> like:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token string\">\"RegisteredUsers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"zhiva\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3$yc$XYQhSA55bJf\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>You can add as many users as you want, but we advise to add at least 3 different user roles (<strong>admin</strong>, <strong>editor</strong>, <strong>viewer</strong>).</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token string\">\"RegisteredUsers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"zhiva-admin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Gf3hDbjY6HkdDsRh\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"zhiva-editor\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"oAm5Ns78DsdE6MNy\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"zhiva\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3$yc$XYQhSA55bJf\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>These are only example users. You can create more than one user per role (e.g. have one editor user per radiologist).</p>\n<h2 id=\"set-your-user-credentials-inside-application\" style=\"position:relative;\">Set your user credentials inside application<a href=\"#set-your-user-credentials-inside-application\" aria-label=\"set your user credentials inside application permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h2 id=\"allow-admin-for-local-orthanc-viewer\" style=\"position:relative;\">Allow admin for local orthanc viewer<a href=\"#allow-admin-for-local-orthanc-viewer\" aria-label=\"allow admin for local orthanc viewer permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>To manage your local PACS you have to define server access in DicomWeb config. Usually you want to have admin access to your data locally, so you should add that account as default account for authentication.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token string\">\"DicomWeb\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span><span class=\"token punctuation\">]</span>\n    <span class=\"token string\">\"Servers\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"zhiva\"</span> <span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span> <span class=\"token string\">\"http://localhost:8042/pacs/\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"zhiva-admin\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"Gf3hDbjY6HkdDsRh\"</span> <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h2 id=\"define-roles-and-access\" style=\"position:relative;\">Define roles and access<a href=\"#define-roles-and-access\" aria-label=\"define roles and access permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>There are 3 possible roles in local PACS:</p>\n<ul>\n<li><strong>admin</strong></li>\n<li><strong>editor</strong></li>\n<li><strong>viewer</strong></li>\n</ul>\n<p>When authentication is enabled you have to define which user has particular role. Roles are stored in <code class=\"language-text\">./scripts/IncomingHttpRequestFilter.lua</code> file.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">local viewers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'zhiva'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'zhiva-editor'</span><span class=\"token punctuation\">}</span>\nlocal editors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'zhiva-editor'</span><span class=\"token punctuation\">}</span>\nlocal admins <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'zhiva-admin'</span><span class=\"token punctuation\">}</span></code></pre></div>\n<p>You can assign user to more than one role. When assigning to admin role (<code class=\"language-text\">admins</code>), user automatically get permission to every action possible. <strong>You should never give the admin permission to untrusted users</strong>. Other two roles can be assigned separately. You can create editor (<code class=\"language-text\">editors</code>) without <code class=\"language-text\">read</code> access (this can be used for devices that only store data into PACS). <em>Editor</em> can update and create data. Delete action is available only for <em>Admin</em>. <em>Viewer</em> is a basic role and safe to use for most of the users. This should be your default account for your users.</p>\n<p>Enter user credentials in <a href=\"/latest/managing-servers-inside-the-dicom-viewer/#authentication\">Authentication</a> section in your server settings.</p>\n<h2 id=\"example-setup\" style=\"position:relative;\">Example setup<a href=\"#example-setup\" aria-label=\"example setup permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>Let us create an example accounts for your users. We're going to have one _<em>admin</em> account, three _<em>editor</em> accounts for radiologists who are working on developing ML models, and one <strong>viewer</strong> account (to use by everyone else).</p>\n<h4 id=\"setup-accounts\" style=\"position:relative;\">Setup accounts<a href=\"#setup-accounts\" aria-label=\"setup accounts permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Go to <code class=\"language-text\">/orthanc.json</code> and find <code class=\"language-text\">RegisteredUsers</code> property. We have to add all users to this list:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token string\">\"RegisteredUsers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"zhiva-admin\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Gf3hDbjY6HkdDsRh\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"radiologist-one\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ptrioBBQcKMnz5$j\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"radiologist-two\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"PtxdcgMErs5ab?F4\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"radiologist-three\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"4&amp;QDTDJ$!cE8xdYJ\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"radiology\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3$yc$XYQhSA55bJf\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h4 id=\"set-permissions-for-your-users\" style=\"position:relative;\">Set permissions for your users<a href=\"#set-permissions-for-your-users\" aria-label=\"set permissions for your users permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Now we have to open <code class=\"language-text\">./scripts/IncomingHttpRequestFilter.lua</code> and modify list of users assigned to particular roles:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">local viewers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'radiology'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'radiologist-one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'radiologist-two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'radiologist-three'</span><span class=\"token punctuation\">}</span>\nlocal editors <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'radiologist-one'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'radiologist-two'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'radiologist-three'</span><span class=\"token punctuation\">}</span>\nlocal admins <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token string\">'zhiva-admin'</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"set-credentials-inside-application\" style=\"position:relative;\">Set credentials inside application<a href=\"#set-credentials-inside-application\" aria-label=\"set credentials inside application permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>Every user has to enter credentials into the application. Let's assume you're one of the radiologists and got your credentials (<code class=\"language-text\">\"radiologist-one\": \"ptrioBBQcKMnz5$j\"</code>). Go to <a href=\"/latest/managing-servers-inside-the-dicom-viewer#authentication\">Application Setting Authentication</a> and set <strong>Server Login</strong> and <strong>Server Password</strong>. Because your account has <strong>editor</strong> permission you should also check <strong>Can Store/Update Data?</strong></p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b74ef0ec53c7f867a2e046765fce3a1e/37201/can-save-button.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.703125%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAtklEQVQY05WPvQ6CQBzDnfzkT+AMJiqJi18HkZM7kMXJydE3cPIR3Hz3nwHUxMHBoWmTpk3bCZVCyYjxoEcQBHieh+/7iEirX1xDXl6jRQjDEKXUh2t01LCPnC50bw8WcYwrHNskxZUHMpORZHuKwlGWJcY60sxQVbVnmM9mzYh3WVs4GiDHM/3rnekkwuwNy9WaJE2b0EZrrLXk1rIzhtV6Q57naK2ZRNHXuqawvez9vuz/d/kJG81ogUVFRdoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b74ef0ec53c7f867a2e046765fce3a1e/5e4cb/can-save-button.webp 256w,\n/static/b74ef0ec53c7f867a2e046765fce3a1e/ea068/can-save-button.webp 301w\"\n              sizes=\"(max-width: 301px) 100vw, 301px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b74ef0ec53c7f867a2e046765fce3a1e/9dd4e/can-save-button.png 256w,\n/static/b74ef0ec53c7f867a2e046765fce3a1e/37201/can-save-button.png 301w\"\n            sizes=\"(max-width: 301px) 100vw, 301px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b74ef0ec53c7f867a2e046765fce3a1e/37201/can-save-button.png\"\n            alt=\"Can Save button\"\n            title=\"Can Save button\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>This is important because it allows you to write data back to the PACS (e.g. segmentation).</p>\n<p>Now let's do the same for default <strong>viewer</strong> account (<code class=\"language-text\">radiology</code>). This account could be used as a default account for inference but does not require to store the data on the server. As in the previous example, you should enter your credentials (<code class=\"language-text\">\"radiology\": \"3$yc$XYQhSA55bJf\"</code>) to <strong>Server Login</strong> and <strong>Server Password</strong>. This time you leave <strong>Can Store/Update Data?</strong> box <strong>unchecked</strong>.</p>\n<blockquote>\n<p>Nothing will happen if you leave <strong>Can Store/Update Data?</strong> checked for a user without <strong>editor</strong> permission. This permission is checked on the server either way. This checkbox is there only for disabling save buttons so the user won't get request error message when trying to store data on PACS.</p>\n</blockquote>","fields":{"slug":"/local-pacs-security"},"frontmatter":{"date":"May 27, 2022","title":"Local PACS Security","category":"dicom-server","description":"How to setup local server to store DICOM files and use it as a data provider for the app?"}},"openapiYaml":{"info":{"contact":{"email":"ceo@zhiva.ai","url":"https://zhiva.ai"},"description":"This is a documentation for _zhiva.ai_ products. Feel free to read the whole thing but here is a:\n\n# Quickstart\n\nIf you want to setup everything for your local research please execute following steps:\n\n### 1. Setup Local PACS server\n\nYou have to have something that servers the __DICOM__ data. Usually this is a __PACS server__ with __DICOMWeb__. Setting local server is easy and everything you should do is described in [Setting up Local PACS](/latest/setting-up-local-pacs)\n\n### 2. Add Local PACS server to application settings\n\nAfter creating Local PACS you have to [Add that server to the application](/latest/managing-servers-inside-the-dicom-viewer) so you can use its data.\n\n### 3. Setup your AI Model server\n\nNow you have to have something that makes inferences. If you have your own model (or want to use ours) please follow the instruction: [Setting up Local Model API](/latest/setting-up-local-model-api)\n\n### 4. Setup proxy server for your AI Model\n\nWhen you have a model you cannot just connect it directly to the application. You have to __add data providers__ (PACS servers) to it. Reason for that is that sending DICOM data directly from an application is extremely inefficient. How to setup a proxy server is described in [Setting up Model Proxy](/latest/setting-up-model-proxy)\n\n### 5. Add your models to application settings\n\nAt the end you have to add your models that are now accessible through [Model Proxy](/latest/setting-up-model-proxy) to application. Please follow [Managing AI Models inside the DICOM viewer](/latest/managing-ai-models-inside-the-dicom-viewer) guide.\n\n### 6. Setup your user accounts (optional but advised)\n\nUsually you're dealing with more than one account. Some of them should have write permission and some of them are only for viewing data. [Example setup](/latest/local-pacs-security/#example-setup) explains how to set accounts for different users in your local environment.\n\n### 7. You're good to go\n\nYour architecture should look like this:\n\n![local architecture](/local_architecture.png)","termsOfService":"https://zhiva.ai/terms/","title":"zviha.ai","version":"0.2.0"},"openapi":"3.1.0","x_tagGroups":[{"name":"Segmentation","section":"inferences","tags":[{"name":"Semantic Segmentation","slug":"semantic-segmentation"}],"slug":"segmentation"},{"name":"Annotations","section":"inferences","tags":[{"name":"Polygon","slug":"polygon"}],"slug":"annotations"},{"name":"Predictions","section":"inferences","tags":[],"slug":"predictions"}],"spec":"{\"openapi\":\"3.1.0\",\"info\":{\"version\":\"0.2.0\",\"title\":\"zviha.ai\",\"termsOfService\":\"https://zhiva.ai/terms/\",\"contact\":{\"email\":\"ceo@zhiva.ai\",\"url\":\"https://zhiva.ai\"},\"description\":\"This is a documentation for _zhiva.ai_ products. Feel free to read the whole thing but here is a:\\n\\n# Quickstart\\n\\nIf you want to setup everything for your local research please execute following steps:\\n\\n### 1. Setup Local PACS server\\n\\nYou have to have something that servers the __DICOM__ data. Usually this is a __PACS server__ with __DICOMWeb__. Setting local server is easy and everything you should do is described in [Setting up Local PACS](/latest/setting-up-local-pacs)\\n\\n### 2. Add Local PACS server to application settings\\n\\nAfter creating Local PACS you have to [Add that server to the application](/latest/managing-servers-inside-the-dicom-viewer) so you can use its data.\\n\\n### 3. Setup your AI Model server\\n\\nNow you have to have something that makes inferences. If you have your own model (or want to use ours) please follow the instruction: [Setting up Local Model API](/latest/setting-up-local-model-api)\\n\\n### 4. Setup proxy server for your AI Model\\n\\nWhen you have a model you cannot just connect it directly to the application. You have to __add data providers__ (PACS servers) to it. Reason for that is that sending DICOM data directly from an application is extremely inefficient. How to setup a proxy server is described in [Setting up Model Proxy](/latest/setting-up-model-proxy)\\n\\n### 5. Add your models to application settings\\n\\nAt the end you have to add your models that are now accessible through [Model Proxy](/latest/setting-up-model-proxy) to application. Please follow [Managing AI Models inside the DICOM viewer](/latest/managing-ai-models-inside-the-dicom-viewer) guide.\\n\\n### 6. Setup your user accounts (optional but advised)\\n\\nUsually you're dealing with more than one account. Some of them should have write permission and some of them are only for viewing data. [Example setup](/latest/local-pacs-security/#example-setup) explains how to set accounts for different users in your local environment.\\n\\n### 7. You're good to go\\n\\nYour architecture should look like this:\\n\\n![local architecture](/local_architecture.png)\"},\"tags\":[{\"name\":\"Semantic Segmentation\",\"description\":\"Semantic Segmentation API\"},{\"name\":\"Polygon\",\"description\":\"Polygon Annotations\"}],\"x-tagGroups\":[{\"name\":\"Segmentation\",\"section\":\"inferences\",\"tags\":[\"Semantic Segmentation\"],\"slug\":\"segmentation\"},{\"name\":\"Annotations\",\"section\":\"inferences\",\"tags\":[\"Polygon\"],\"slug\":\"annotations\"},{\"name\":\"Predictions\",\"section\":\"inferences\",\"tags\":[],\"slug\":\"predictions\"}],\"servers\":[{\"url\":\"https://api.zhiva.ai/v1\"}],\"paths\":{\"/segmentations/{model-uid}/studies/{study-uid}\":{\"get\":{\"tags\":[\"Semantic Segmentation\"],\"summary\":\"Get segmentation for study\",\"description\":\"Should return segmentation data for a given segment. Response size should match entire volumen size (`images in series` x `width` x `height`)\\n\",\"operationId\":\"getSegmentationForStudyies\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/StudySegmentation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/segmentations/{model-uid}/studies/{study-uid}/series/{series-uid}\":{\"get\":{\"tags\":[\"Semantic Segmentation\"],\"summary\":\"Get segmentation for series\",\"description\":\"Should return segmentation data for a given segment. Response size should match entire volumen size (`images in series` x `width` x `height`)\\n\",\"operationId\":\"getSegmentationForSeries\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SeriesSegmentation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/segmentations/{model-uid}/studies/{study-uid}/series/{series-uid}/instances/{sop-instance-uid}\":{\"get\":{\"tags\":[\"Semantic Segmentation\"],\"summary\":\"Get segmentation for instance\",\"description\":\"Should return segmentation data for a given segment. Response size should match entire volumen size (`width` x `height`)\\n\",\"operationId\":\"getSegmentationForInstance\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from study\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"sop-instance-uid\",\"in\":\"path\",\"description\":\"SOPInstanceUID from series\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SOPInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.9\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/InstanceSegmentation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/annotations/{model-uid}/studies/{study-uid}\":{\"get\":{\"tags\":[\"Polygon\"],\"summary\":\"Get annotations for study\",\"description\":\"Should return annotation data for a given structure. Response size should match entire volumen size (`images in series`)\\n\",\"operationId\":\"getAnnotationsForStudies\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/StudyAnnotation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/annotations/{model-uid}/studies/{study-uid}/series/{series-uid}\":{\"get\":{\"tags\":[\"Polygon\"],\"summary\":\"Get annotations for series\",\"description\":\"Should return annotation data for a given structure. Response size should match entire volumen size (`images in series` x `width` x `height`)\\n\",\"operationId\":\"getAnnotationsForSeries\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SeriesAnnotation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/annotations/{model-uid}/studies/{study-uid}/series/{series-uid}/instances/{sop-instance-uid}\":{\"get\":{\"tags\":[\"Polygon\"],\"summary\":\"Get annotations for instance\",\"description\":\"Should return annotations data for a given instance. Response size should match entire volumen size (`width` x `height`)\\n\",\"operationId\":\"getSegmentationForInstance\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from study\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"sop-instance-uid\",\"in\":\"path\",\"description\":\"SOPInstanceUID from series\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SOPInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.9\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/InstanceAnnotation\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/predictions/{model-uid}/studies/{study-uid}\":{\"get\":{\"tags\":[\"Predictions\"],\"summary\":\"Get prediction for study\",\"description\":\"Should return prediction data for a given study.\\n\",\"operationId\":\"getPredictionForStudyies\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/StudyPrediction\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/predictions/{model-uid}/studies/{study-uid}/series/{series-uid}\":{\"get\":{\"tags\":[\"Predictions\"],\"summary\":\"Get prediction for series\",\"description\":\"Should return prediction data for a given series.\\n\",\"operationId\":\"getPredictionForSeries\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}},{\"name\":\"data-filters\",\"in\":\"query\",\"description\":\"List of data filters\",\"required\":false,\"schema\":{\"$ref\":\"#/components/schemas/DataFilter\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/SeriesPrediction\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}},\"/predictions/{model-uid}/studies/{study-uid}/series/{series-uid}/instances/{sop-instance-uid}\":{\"get\":{\"tags\":[\"Predictions\"],\"summary\":\"Get prediction for instance\",\"description\":\"Should return segmentation data for a given instance.\\n\",\"operationId\":\"getPredictionForInstance\",\"parameters\":[{\"name\":\"model-uid\",\"in\":\"path\",\"description\":\"UID of the model\",\"required\":true,\"schema\":{\"type\":\"string\"}},{\"name\":\"study-uid\",\"in\":\"path\",\"description\":\"StudyInstanceUID from DICOM metadata\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"StudyInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095438.5\"}},{\"name\":\"series-uid\",\"in\":\"path\",\"description\":\"SeriesInstanceUID from study\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SeriesInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.8\"}},{\"name\":\"sop-instance-uid\",\"in\":\"path\",\"description\":\"SOPInstanceUID from series\",\"required\":true,\"schema\":{\"type\":\"string\",\"format\":\"SOPInstanceUID\",\"example\":\"1.3.6.1.4.1.25403.345050719074.3824.20170125095449.9\"}},{\"name\":\"server\",\"in\":\"query\",\"description\":\"Server UUID to use instead of default one\",\"required\":false,\"schema\":{\"type\":\"string\",\"format\":\"UUIDv4\",\"example\":\"701ea23e-27bf-4b18-8296-e621fc96d4a1\"}}],\"security\":[{\"main_auth\":[\"read:model\"]}],\"responses\":{\"200\":{\"description\":\"Success\",\"content\":{\"application/json\":{\"schema\":{\"$ref\":\"#/components/schemas/InstancePrediction\"}}}},\"403\":{\"description\":\"Forbidden\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"You have no access to this model\"}}}},\"404\":{\"description\":\"Data not found\",\"$ref\":\"#/components/responses/Problem\",\"content\":{\"application/json\":{\"example\":{\"message\":\"Not found\"}}}}}}}},\"components\":{\"securitySchemes\":{\"main_auth\":{\"type\":\"oauth2\",\"flows\":{\"implicit\":{\"authorizationUrl\":\"http://example.com/api/oauth/dialog\",\"scopes\":{\"read:models\":\"read users info\"}}}},\"api_key\":{\"type\":\"apiKey\",\"in\":\"header\",\"name\":\"api_key\"}},\"schemas\":{\"ModelInput_Study\":{\"oneOf\":[{\"$ref\":\"#/components/schemas/FullStudyModelInput\"},{\"$ref\":\"#/components/schemas/FilteredStudyModelInput\"}]},\"ModelInput_Series\":{\"oneOf\":[{\"$ref\":\"#/components/schemas/FullSeriesModelInput\"},{\"$ref\":\"#/components/schemas/FilteredSeriesModelInput\"}]},\"ModelInput_Instance\":{\"$ref\":\"#/components/schemas/FullInstanceModelInput\"},\"DataFilter\":{\"type\":\"array\",\"items\":{\"description\":\"DataFilter Object\",\"type\":\"object\",\"required\":[\"dataKey\",\"uuid\"],\"properties\":{\"dataKey\":{\"type\":\"string\",\"description\":\"Key used by model to identify data\",\"example\":\"pre-contrast-series\"},\"uuid\":{\"type\":\"string\",\"example\":\"1d64342f-926c-4c07-b448-59c59823d469\"},\"dataFilter\":{\"type\":\"array\",\"items\":{\"description\":\"DataFilter Object\",\"type\":\"object\",\"required\":[\"dataKey\",\"uuid\"],\"properties\":{\"dataKey\":{\"type\":\"string\",\"description\":\"Key used by model to identify data\",\"example\":\"pre-contrast-series\"},\"uuid\":{\"type\":\"string\",\"example\":\"1d64342f-926c-4c07-b448-59c59823d469\"}}}}}}},\"Metadata\":{\"description\":\"Metadata Object\",\"type\":\"object\",\"required\":[\"dataType\",\"value\",\"title\"],\"properties\":{\"dataType\":{\"type\":\"string\",\"enum\":[\"percentage\",\"date\",\"text\",\"number\"],\"example\":\"percentage\"},\"value\":{\"type\":[\"string\",\"number\"],\"example\":12},\"title\":{\"type\":\"string\",\"example\":\"Risk\"},\"description\":{\"type\":\"string\",\"example\":\"Risk of patient having a malignant tumor\"},\"titleColor\":{\"type\":\"string\",\"example\":\"rgb(255,0,0)\"},\"contentColor\":{\"type\":\"string\",\"example\":\"rgb(255,0,0)\"},\"backgroundColor\":{\"type\":\"string\",\"example\":\"rgb(0,0,255)\"},\"boldContent\":{\"type\":\"boolean\",\"example\":true}}},\"Segment\":{\"description\":\"Segment definition (one slide)\",\"type\":\"object\",\"required\":[\"points\",\"color\",\"className\"],\"properties\":{\"points\":{\"type\":\"array\",\"title\":\"Points Array\",\"items\":{\"title\":\"row\",\"type\":\"array\",\"items\":{\"title\":\"column\",\"type\":\"integer\"}},\"example\":[[0,0,1,0],[0,1,1,0]]},\"color\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\"},\"classColor\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\",\"default\":\"same as \\\"color\\\"\"},\"activeColor\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\",\"default\":\"same as \\\"color\\\"\"},\"className\":{\"type\":\"string\",\"example\":\"Lung\"},\"description\":{\"type\":\"string\"}}},\"StudySegmentation\":{\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"SeriesInstanceUID\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"SOPInstanceUID\",\"required\":[\"segments\"],\"properties\":{\"segments\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Segment\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"Problem\":{\"type\":\"object\",\"additionalProperties\":true,\"minProperties\":1,\"doNotRender\":true,\"description\":\"The Problem Details JSON Object [[RFC7807](https://tools.ietf.org/html/rfc7807)].\",\"properties\":{\"type\":{\"type\":\"string\",\"description\":\"A URI reference [[RFC3986](https://tools.ietf.org/html/rfc3986)] that identifies the problem type. It should provide human-readable documentation for the problem type. When this member is not present, its value is assumed to be \\\"about:blank\\\".\",\"format\":\"uri\"},\"title\":{\"type\":\"string\",\"description\":\"A short, human-readable summary of the problem type. It SHOULD NOT change from occurrence to occurrence of the problem, except for purposes of localization.\"},\"status\":{\"type\":\"integer\",\"description\":\"The HTTP status code.\",\"minimum\":400,\"maximum\":599},\"detail\":{\"type\":\"string\",\"description\":\"A human-readable explanation specific to this occurrence of the problem.\"},\"instance\":{\"type\":\"string\",\"description\":\"A URI reference that identifies the specific occurrence of the problem.  It may or may not yield further information if dereferenced.\"}}},\"SeriesSegmentation\":{\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"required\":[\"SeriesInstanceUID\"],\"type\":\"object\",\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"SOPInstanceUID\",\"required\":[\"segments\"],\"properties\":{\"segments\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Segment\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"InstanceSegmentation\":{\"description\":\"Segmentation object\",\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"required\":[\"SeriesInstanceUID\"],\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"properties\":{\"SOPInstanceUID\":{\"required\":[\"segments\"],\"properties\":{\"segments\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Segment\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"Roi\":{\"description\":\"Segment definition (one slide)\",\"type\":\"object\",\"required\":[\"points\",\"color\",\"className\"],\"properties\":{\"points\":{\"type\":\"array\",\"title\":\"Points Array\",\"items\":{\"type\":\"array\",\"length\":2,\"items\":{\"title\":\"Point\",\"format\":\"x,y\",\"type\":\"integer\"}},\"example\":\"[[120,130], [110, 130], [75, 100]]\"},\"color\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\"},\"classColor\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\",\"default\":\"same as \\\"color\\\"\"},\"activeColor\":{\"type\":\"string\",\"format\":\"RGB\",\"example\":\"rgb(120, 80, 40)\",\"default\":\"same as \\\"color\\\"\"},\"className\":{\"type\":\"string\",\"example\":\"Lung\"},\"description\":{\"type\":\"string\"}}},\"StudyAnnotation\":{\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"required\":[\"SeriesInstanceUID\"],\"additionalProperties\":{\"type\":\"object\",\"required\":[\"SOPInstanceUID\"],\"minItems\":1,\"x-additionalPropertiesName\":\"SeriesInstanceUID\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"SOPInstanceUID\",\"required\":[\"rois\"],\"properties\":{\"rois\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Roi\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"SeriesAnnotation\":{\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"required\":[\"SeriesInstanceUID\"],\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"SOPInstanceUID\",\"required\":[\"rois\"],\"properties\":{\"rois\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Roi\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"InstanceAnnotation\":{\"description\":\"Annotation object\",\"type\":\"object\",\"required\":[\"StudyInstanceUID\"],\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"required\":[\"SeriesInstanceUID\"],\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"required\":[\"SOPInstanceUID\"],\"properties\":{\"SOPInstanceUID\":{\"required\":[\"rois\"],\"properties\":{\"rois\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Roi\"}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"StudyPrediction\":{\"type\":\"object\",\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"SeriesPrediction\":{\"type\":\"object\",\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"InstancePrediction\":{\"description\":\"Segmentation object\",\"type\":\"object\",\"properties\":{\"StudyInstanceUID\":{\"type\":\"object\",\"properties\":{\"SeriesInstanceUID\":{\"type\":\"object\",\"properties\":{\"SOPInstanceUID\":{\"type\":\"object\",\"properties\":{\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}},\"metadata\":{\"type\":\"array\",\"items\":{\"$ref\":\"#/components/schemas/Metadata\"}}}}}},\"FullStudyModelInput\":{\"type\":\"array\",\"description\":\"List of Study instances (includes all instances from all series)\",\"doNotRender\":true,\"title\":\"Full study model input\",\"items\":{\"description\":\"Binary DICOM data encoded\",\"type\":\"string\",\"format\":\"Binary<DICOM DATA>\",\"example\":\"[0,0,0,1,5,21,...,21,0]\"}},\"FullInstanceModelInput\":{\"type\":\"string\",\"format\":\"Binary<DICOM DATA>\",\"example\":\"[0,0,0,1,5,21,...,21,0]\",\"description\":\"Binary DICOM data encoded\",\"doNotRender\":true,\"title\":\"Full instance model input\"},\"FullSeriesModelInput\":{\"type\":\"array\",\"description\":\"List of Series instances\",\"doNotRender\":true,\"title\":\"Full series model input\",\"items\":{\"$ref\":\"#/components/schemas/FullInstanceModelInput\"}},\"FilteredSeriesModelInput\":{\"type\":\"object\",\"doNotRender\":true,\"title\":\"Filtered series model input\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"instance-key\",\"properties\":{\"data\":{\"type\":\"string\",\"format\":\"Binary<DICOM DATA>\",\"example\":\"[0,0,0,1,5,21,...,21,0]\",\"description\":\"Binary DICOM data encoded\"}}}},\"FilteredStudyModelInput\":{\"type\":\"object\",\"doNotRender\":true,\"title\":\"Filtered study model input\",\"additionalProperties\":{\"type\":\"object\",\"minItems\":1,\"x-additionalPropertiesName\":\"series-key\",\"properties\":{\"data\":{\"oneOf\":[{\"$ref\":\"#/components/schemas/FullSeriesModelInput\"},{\"$ref\":\"#/components/schemas/FilteredSeriesModelInput\"}]}}}}},\"responses\":{\"Problem\":{\"content\":{\"application/problem+json\":{\"schema\":{\"$ref\":\"#/components/schemas/Problem\"}}}}}}}","slug":"0-2-0","tags":[{"description":"Semantic Segmentation API","name":"Semantic Segmentation"},{"description":"Polygon Annotations","name":"Polygon"}]},"allOpenapiYaml":{"nodes":[{"info":{"version":"0.1.1"},"slug":"0-1-1"},{"info":{"version":"0.2.0"},"slug":"0-2-0"}]},"site":{"siteMetadata":{"categories":[{"name":"Inferences","key":"inferences"},{"name":"Annotations","key":"annotation"},{"name":"Storage","key":"storage"},{"name":"Hosting","key":"hosting"},{"name":"Machine Learning","key":"ml"},{"name":"API Schemas","key":"api-schemas"},{"name":"DICOM Server","key":"dicom-server"},{"name":"AI Model APIs","key":"model-api"}]}}},"pageContext":{"markdownid":"84807d6e-4c2f-53d1-8070-27002f7c9afc","verid":"290964d9-30e4-59ab-9e97-03a2718833d3"}},
    "staticQueryHashes": ["1428769721","2970016195"]}