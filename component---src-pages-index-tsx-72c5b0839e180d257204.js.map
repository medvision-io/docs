{"version":3,"file":"component---src-pages-index-tsx-72c5b0839e180d257204.js","mappings":"+KAoEA,UA1CkB,SAAC,GAAqB,IAElBA,EAFiB,EAAlBC,KAEjBC,eAAkBF,MAEdG,EAAeC,IAAAA,cACnBJ,EAAMK,KAAI,SAACC,GAAD,OAAUA,EAAKC,KAAKC,KAAKC,WACnC,KAEIC,EAAYV,EAAMW,MACtB,SAACL,GAAD,OAAUA,EAAKC,KAAKC,KAAKC,UAAYN,MAEvCS,EAAAA,EAAAA,YAAU,WACS,MAAbF,IACFG,OAAOC,SAASC,KAAO,CAAC,GAAIL,EAAUH,KAAKS,MAAMC,KAAK,QAEvD,CAACP,IACJ,IAAMQ,EAAe,IAAIC,EAAAA,GAAQ,CAC/BC,KAAMC,KAAKC,MAAMZ,EAAUH,KAAKa,MAAQ,QAE1C,OACE,gBAAC,IAAD,CAAQF,aAAcA,EAAcK,gBAAiBb,EAAUH,KAAKS,MAClE","sources":["webpack://documentation/./src/pages/index.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { graphql } from \"gatsby\";\nimport semver from \"semver\";\nimport Layout from \"../components/Layout/Layout\";\nimport { OpenAPI } from \"../services/OpenAPI\";\nimport { OpenAPISpec } from \"../types/OpenAPISpec\";\nimport { useEffect } from \"react\";\n\ninterface Props {\n  data: {\n    allOpenapiYaml: {\n      edges: {\n        node: {\n          info: {\n            version: string;\n          };\n          openapi: string;\n          slug: string;\n          spec: string;\n        };\n      }[];\n    };\n  };\n}\n\n// markup\nconst IndexPage = ({ data }: Props) => {\n  const {\n    allOpenapiYaml: { edges },\n  } = data;\n  const latestVerNum = semver.maxSatisfying(\n    edges.map((edge) => edge.node.info.version),\n    \"x\"\n  );\n  const latestVer = edges.find(\n    (edge) => edge.node.info.version === latestVerNum\n  );\n  useEffect(() => {\n    if (latestVer != null) {\n      window.location.href = [\"\", latestVer.node.slug].join(\"/\");\n    }\n  }, [latestVer]);\n  const openApiStore = new OpenAPI({\n    spec: JSON.parse(latestVer.node.spec || \"{}\") as any as OpenAPISpec,\n  });\n  return (\n    <Layout openApiStore={openApiStore} selectedVersion={latestVer.node.slug}>\n      <div>Redirecting to newest doc version</div>\n    </Layout>\n  );\n};\n\nexport const pageQuery = graphql`\n  query IndexPage {\n    allOpenapiYaml {\n      edges {\n        node {\n          info {\n            version\n          }\n          openapi\n          slug\n        }\n      }\n    }\n  }\n`;\n\nexport default IndexPage;\n"],"names":["edges","data","allOpenapiYaml","latestVerNum","semver","map","edge","node","info","version","latestVer","find","useEffect","window","location","href","slug","join","openApiStore","OpenAPI","spec","JSON","parse","selectedVersion"],"sourceRoot":""}